<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
 <!--<![endif]-->
 <head>      
  <link rel="stylesheet" type="text/css" media="all" href="stylesheets/style.css">     
  <link rel="stylesheet" id="codebox-css" href="stylesheets/codebox.css" type="text/css" media="screen">             
 </head> 
 <body class="single single-post postid-89 single-format-standard content-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://codelifeliwan.github.io/" title="Code_Life_LiWan" rel="home">Code_Life_LiWan</a></span></h1> 
     <h2 id="site-description">My heart will go on and on…</h2> 
    </hgroup>  
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main" class="clearfix"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <!-- #nav-single --> 
      <article id="post-89" class="post-89 post type-post status-publish format-standard hentry category-acm tag-uva"> 
       <header class="entry-header"> 
        <h1 class="entry-title">UVA&nbsp;297&nbsp;–&nbsp;Quadtrees&nbsp;解题报告</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://codelifeliwan.github.io/?p=89" title="上午 9:49" rel="bookmark"><time class="entry-date" datetime="2011-07-25T09:49:45+00:00" pubdate>25 七月, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codelifeliwan.github.io/?author=1" title="View all posts by wanli" rel="author">wanli</a></span></span> 
         <span class="sep"> — </span> 
         <span class="comments-link"> <a href="http://codelifeliwan.github.io/?p=89#comments" title="Comment on UVA&nbsp;297&nbsp;–&nbsp;Quadtrees&nbsp;解题报告">13 Comments ↓</a> </span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content">
        <div class="entry-content"> 
         <p> 这个题我老老实实的把树建起来了，感觉不需要建树，直接按照所给顺序遍历一遍即可，但是有的点由于不需要遍历，所以也就不建树的时候会麻烦点，所以还是建了树。</p> 
         <div>
           题目： 
         </div> 
         <div> 
          <table bgcolor="#0060F0"> 
           <tbody> 
            <tr> 
             <td><b><a name="SECTION0001000000000000000000"><font color="#C0FFFF" size="5">Quadtrees</font></a>&nbsp;<wbr></b></td> 
            </tr> 
           </tbody> 
          </table> 
          <p>A quadtree is a representation format used to encode images. The<br> fundamental idea behind the quadtree is that any image can be split<br> into four quadrants. Each quadrant may again be split in four sub<br> quadrants, etc. In the quadtree, the image is represented by a<br> parent node, while the four quadrants are represented by four child<br> nodes, in a predetermined order.</p> 
          <p>Of course, if the whole image is a single color, it can be<br> represented by a quadtree consisting of a single node. In general,<br> a quadrant needs only to be subdivided if it consists of pixels of<br> different colors. As a result, the quadtree need not be of uniform<br> depth.</p> 
          <p>A modern computer artist works with black-and-white images of<br> <img alt="tex2html_wrap_inline34" src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/2/297img1.gif" align="middle" height="24" width="54" title="UVA&nbsp;<wbr>297&nbsp;<wbr>-&nbsp;<wbr>Quadtrees&nbsp;<wbr>解题报告"><wbr>297&nbsp;<wbr>-&nbsp;<wbr>Quadtrees&nbsp;<wbr>解题报告” /&gt; units, for a total of 1024 pixels per<br> image. One of the operations he performs is adding two images<br> together, to form a new image. In the resulting image a pixel is<br> black if it was black in at least one of the component images,<br> otherwise it is white.</p> 
          <p>This particular artist believes in what he calls the<br> <i>preferred fullness</i>: for an image to be interesting (i.e. to<br> sell for big bucks) the most important property is the number of<br> filled (black) pixels in the image. So, before adding two images<br> together, he would like to know how many pixels will be black in<br> the resulting image. Your job is to write a program that, given the<br> quadtree representation of two images, calculates the number of<br> pixels that are black in the image, which is the result of adding<br> the two images together.</p> 
          <p>In the figure, the first example is shown (from top to bottom)<br> as image, quadtree, pre-order string (defined below) and number of<br> pixels. The quadrant numbering is shown at the top of the<br> figure.</p> 
          <p></p> 
          <center> 
           <img src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/2/297img2.gif" alt="UVA&nbsp;<wbr>297&nbsp;<wbr>-&nbsp;<wbr>Quadtrees&nbsp;<wbr>解题报告"> 
           <wbr>297&nbsp; 
           <wbr>-&nbsp; 
           <wbr>Quadtrees&nbsp; 
           <wbr>解题报告” TITLE=”UVA&nbsp; 
           <wbr>297&nbsp; 
           <wbr>-&nbsp; 
           <wbr>Quadtrees&nbsp; 
           <wbr>解题报告” /&gt; 
          </center> 
          <p></p> 
          <h2><a name="SECTION0001001000000000000000"><font color="#0070E8">Input<br> Specification</font></a></h2> 
          <p>The first line of input specifies the number of test cases<br> (<i>N</i>) your program has to process.</p> 
          <p>The input for each test case is two strings, each string on its<br> own line. The string is the pre-order representation of a quadtree,<br> in which the letter ‘<tt>p</tt>‘ indicates a parent node, the<br> letter ‘<tt>f</tt>‘ (full) a black quadrant and the letter<br> ‘<tt>e</tt>‘ (empty) a white quadrant. It is guaranteed that each<br> string represents a valid quadtree, while the depth of the tree is<br> not more than 5 (because each pixel has only one color).</p> 
          <h2><a name="SECTION0001002000000000000000"><font color="#0070E8">Output<br> Specification</font></a></h2> 
          <p>For each test case, print on one line the text ‘<tt>There are<br> <i>X</i> black pixels.</tt>‘, where <i>X</i> is the number of black<br> pixels in the resulting image.</p> 
          <h2><a name="SECTION0001003000000000000000"><font color="#0070E8">Example<br> Input</font></a></h2> 
          <pre>
4
</pre> 
          <pre>
ppeeefpffeefe
</pre> 
          <pre>
pefepeefe
</pre> 
          <pre>
peeef
</pre> 
          <pre>
peefe
</pre> 
          <pre>
peeef
</pre> 
          <pre>
peepefefe
</pre> 
          <pre>
e
</pre> 
          <pre>
f
</pre> 
          <h2><a name="SECTION0001004000000000000000"><font color="#0070E8">Example<br> Output</font></a></h2> 
          <pre>
There are 640 black pixels.
</pre> 
          <pre>
There are 512 black pixels.
</pre> 
          <pre>
There are 384 black pixels.
</pre> 
          <pre>
There are 1024 black pixels.
</pre> 
          <div></div> 
          <div>
            代码： 
          </div> 
          <div> 
           <div></div> 
           <div>
             #include&lt;iostream&gt; 
           </div> 
           <div>
             #include&lt;cstring&gt; 
           </div> 
           <div>
             #include&lt;cmath&gt; 
           </div> 
           <div>
             #include&lt;fstream&gt; 
           </div> 
           <div>
             using namespace std; 
           </div> 
           <div>
             char S1[10000]; 
           </div> 
           <div>
             char S2[10000]; 
           </div> 
           <div>
             typedef struct node{ 
           </div> 
           <div>
             int data; 
           </div> 
           <div>
             struct node *one,*two,*three,*four; 
           </div> 
           <div>
             }node; 
           </div> 
           <div></div> 
           <div>
             void build(node *&amp;r,char *s, int 
            <br> &amp;a,int dep){ 
           </div> 
           <div>
             if(a==strlen(s))return; 
           </div> 
           <div>
             if(s[a]==’e’){ 
           </div> 
           <div>
             r=new node; 
           </div> 
           <div>
             r-&gt;data=0; 
           </div> 
           <div>
             return; 
           </div> 
           <div>
             } 
           </div> 
           <div>
             if(s[a]==’f’){ 
           </div> 
           <div>
             r=new node; 
           </div> 
           <div>
             r-&gt;data=int(1024/(pow(4,dep))); 
           </div> 
           <div>
             return; 
           </div> 
           <div>
             } 
           </div> 
           <div>
             if(s[a]==’p’){ 
           </div> 
           <div>
             r=new node; 
           </div> 
           <div>
             r-&gt;data=-1; 
           </div> 
           <div>
             a++; 
           </div> 
           <div>
             build(r-&gt;one,s,a,dep+1); 
           </div> 
           <div>
             a++; 
           </div> 
           <div>
             build(r-&gt;two,s,a,dep+1); 
           </div> 
           <div>
             a++; 
           </div> 
           <div>
             build(r-&gt;three,s,a,dep+1); 
           </div> 
           <div>
             a++; 
           </div> 
           <div>
             build(r-&gt;four,s,a,dep+1); 
           </div> 
           <div>
             } 
           </div> 
           <div>
             } 
           </div> 
           <div></div> 
           <div>
             void traver(node *r1,node *r2,int &amp;sum){ 
           </div> 
           <div>
             if(r1-&gt;data==-1&amp;&amp;r2-&gt;data==-1){ 
           </div> 
           <div>
             traver(r1-&gt;one,r2-&gt;one,sum); 
           </div> 
           <div>
             traver(r1-&gt;two,r2-&gt;two,sum); 
           </div> 
           <div>
             traver(r1-&gt;three,r2-&gt;three,sum); 
           </div> 
           <div>
             traver(r1-&gt;four,r2-&gt;four,sum); 
           </div> 
           <div>
             return; 
           </div> 
           <div>
             } 
           </div> 
           <div>
             if(r1-&gt;data&gt;0||r2-&gt;data&gt;0){ 
           </div> 
           <div>
             sum+=(r1-&gt;data&gt;0? 
            <br> r1-&gt;data:r2-&gt;data); 
           </div> 
           <div>
             return; 
           </div> 
           <div>
             } 
           </div> 
           <div>
             if(r1-&gt;data==0&amp;&amp;r2-&gt;data==-1){ 
           </div> 
           <div>
             traver(r1,r2-&gt;one,sum); 
           </div> 
           <div>
             traver(r1,r2-&gt;two,sum); 
           </div> 
           <div>
             traver(r1,r2-&gt;three,sum); 
           </div> 
           <div>
             traver(r1,r2-&gt;four,sum); 
           </div> 
           <div>
             } 
           </div> 
           <div>
             if(r1-&gt;data==-1&amp;&amp;r2-&gt;data==0){ 
           </div> 
           <div>
             traver(r1-&gt;one,r2,sum); 
           </div> 
           <div>
             traver(r1-&gt;two,r2,sum); 
           </div> 
           <div>
             traver(r1-&gt;three,r2,sum); 
           </div> 
           <div>
             traver(r1-&gt;four,r2,sum); 
           </div> 
           <div>
             } 
           </div> 
           <div>
             if(r1-&gt;data==0&amp;&amp;r2-&gt;data==0)return; 
           </div> 
           <div>
             } 
           </div> 
           <div></div> 
           <div>
             int main() 
           </div> 
           <div>
             { 
           </div> 
           <div>
             // freopen(“test.txt”,”r”,stdin); 
           </div> 
           <div>
             int ncase; 
           </div> 
           <div>
             cin&gt;&gt;ncase; 
           </div> 
           <div>
             while(ncase–){ 
           </div> 
           <div>
             cin&gt;&gt;S1; 
           </div> 
           <div>
             cin&gt;&gt;S2; 
           </div> 
           <div>
             node *root1; 
           </div> 
           <div>
             node *root2; 
           </div> 
           <div>
             int a1=0; 
           </div> 
           <div>
             int a2=0; 
           </div> 
           <div>
             build(root1,S1,a1,0); 
           </div> 
           <div>
             build(root2,S2,a2,0); 
           </div> 
           <div>
             int sum=0; 
           </div> 
           <div>
             traver(root1,root2,sum); 
           </div> 
           <div>
             cout&lt;&lt;“There are 
            <br> “&lt;&lt;sum&lt;&lt;” 
            <br> black pixels.”&lt;&lt;endl; 
           </div> 
           <div>
             } 
           </div> 
           <div>
             return 0; 
           </div> 
           <div>
             } 
           </div> 
          </div> 
          <div></div> 
         </div> 
        </div>
       </div>
       <!-- .entry-content --> 
       <!-- .entry-meta --> 
      </article>
      <!-- #post-89 --> 
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <!-- #secondary .widget-area --> 
   </div>
   <!-- #main --> 
   <!-- #colophon --> 
  </div>
  <!-- #page -->   
  <!-- JiaThis Button BEGIN -->  
  <!-- JiaThis Button END -->   
 </body>
</html>