<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
 <!--<![endif]-->
 <head>      
  <link rel="stylesheet" type="text/css" media="all" href="stylesheets/style.css">     
  <link rel="stylesheet" id="codebox-css" href="stylesheets/codebox.css" type="text/css" media="screen">             
 </head> 
 <body class="single single-post postid-91 single-format-standard content-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://codelifeliwan.github.io/" title="Code_Life_LiWan" rel="home">Code_Life_LiWan</a></span></h1> 
     <h2 id="site-description">My heart will go on and on…</h2> 
    </hgroup>  
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main" class="clearfix"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <!-- #nav-single --> 
      <article id="post-91" class="post-91 post type-post status-publish format-standard hentry category-acm tag-uva"> 
       <header class="entry-header"> 
        <h1 class="entry-title">UVA&nbsp;839&nbsp;–&nbsp;Not&nbsp;so&nbsp;Mobile&nbsp;解题报告</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://codelifeliwan.github.io/?p=91" title="下午 9:32" rel="bookmark"><time class="entry-date" datetime="2011-07-25T21:32:39+00:00" pubdate>25 七月, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codelifeliwan.github.io/?author=1" title="View all posts by wanli" rel="author">wanli</a></span></span> 
         <span class="sep"> — </span> 
         <span class="comments-link"> <a href="http://codelifeliwan.github.io/?p=91#respond" title="Comment on UVA&nbsp;839&nbsp;–&nbsp;Not&nbsp;so&nbsp;Mobile&nbsp;解题报告">No Comments ↓</a> </span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content">
        <div class="entry-content"> 
         <p> 题目意思很简单，简单建树，一开始看错题了，WA了两次，仔细看了才知道是If <span><i>W</i><sub>l</sub></span> or <span><i>W</i><sub>r</sub></span> is zero不是and。。。。。还有最后要输出空行的。</p> 
         <div>
           题目： 
         </div> 
         <table bgcolor="#0060F0"> 
          <tbody> 
           <tr> 
            <td><b><font color="#C0FFFF" size="5"><a name="SECTION0001000000000000000000">Not so<br> Mobile</a>&nbsp;<wbr></font></b></td> 
           </tr> 
          </tbody> 
         </table> 
         <p>Before being an ubiquous communications gadget, a<br> <em>mobile</em> was just a structure made of strings and wires<br> suspending colourfull things. This kind of mobile is usually found<br> hanging over cradles of small babies.</p> 
         <div align="center"> 
          <img src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/8/p839a.jpg" alt="epsfbox{p839a.eps}" title="UVA&nbsp;<wbr>839&nbsp;<wbr>-&nbsp;<wbr>Not&nbsp;<wbr>so&nbsp;<wbr>Mobile&nbsp;<wbr>解题报告"> 
          <wbr>839&nbsp; 
          <wbr>-&nbsp; 
          <wbr>Not&nbsp; 
          <wbr>so&nbsp; 
          <wbr>Mobile&nbsp; 
          <wbr>解题报告” /&gt; 
         </div> 
         <p>The figure illustrates a simple mobile. It is just a wire,<br> suspended by a string, with an object on each side. It can also be<br> seen as a kind of lever with the fulcrum on the point where the<br> string ties the wire. From the lever principle we know that to<br> balance a simple mobile the product of the weight of the objects by<br> their distance to the fulcrum must be equal. That is <span><i>W</i><sub>l</sub>×<i>D</i><sub>l</sub> =<br> <i>W</i><sub>r</sub>×<i>D</i><sub>r</sub></span> where <span><i>D</i><sub>l</sub></span> is the left distance,<br> <span><i>D</i><sub>r</sub></span> is the right<br> distance, <span><i>W</i><sub>l</sub></span> is the<br> left weight and <span><i>W</i><sub>r</sub></span> is<br> the right weight.</p> 
         <p> In a more complex mobile the object may be replaced by a<br> sub-mobile, as shown in the next figure. In this case it is not so<br> straightforward to check if the mobile is balanced so we need you<br> to write a program that, given a description of a mobile as input,<br> checks whether the mobile is in equilibrium or not.</p> 
         <div align="center"> 
          <img src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/8/p839b.jpg" alt="epsfbox{p839b.eps}" title="UVA&nbsp;<wbr>839&nbsp;<wbr>-&nbsp;<wbr>Not&nbsp;<wbr>so&nbsp;<wbr>Mobile&nbsp;<wbr>解题报告"> 
          <wbr>839&nbsp; 
          <wbr>-&nbsp; 
          <wbr>Not&nbsp; 
          <wbr>so&nbsp; 
          <wbr>Mobile&nbsp; 
          <wbr>解题报告” /&gt; 
         </div> 
         <h2><font color="#0070E8"><a name="SECTION0001001000000000000000">Input</a>&nbsp;<wbr></font></h2> 
         <p><b>The input begins with a single positive integer on a line by<br> itself indicating the number of the cases following, each of them<br> as described below. This line is followed by a blank line, and<br> there is also a blank line between two consecutive inputs.</b></p> 
         <p></p> 
         <p>The input is composed of several lines, each containing 4<br> integers separated by a single space. The 4 integers represent the<br> distances of each object to the fulcrum and their weights, in the<br> format: <span><i>W</i><sub>l</sub>&nbsp;<wbr><i>D</i><sub>l</sub>&nbsp;<wbr><i>W</i><sub>r</sub>&nbsp;<wbr><i>D</i><sub>r</sub></span></p> 
         <p>If <span><i>W</i><sub>l</sub></span> or<br> <span><i>W</i><sub>r</sub></span> is zero then there<br> is a sub-mobile hanging from that end and the following lines<br> define the the sub-mobile. In this case we compute the weight of<br> the sub-mobile as the sum of weights of all its objects,<br> disregarding the weight of the wires and strings. If both<br> <span><i>W</i><sub>l</sub></span> and <span><i>W</i><sub>r</sub></span> are zero then the following<br> lines define two sub-mobiles: first the left then the right<br> one.</p> 
         <h2><font color="#0070E8"><a name="SECTION0001002000000000000000">Output</a>&nbsp;<wbr></font></h2> 
         <p><b>For each test case, the output must follow the description<br> below. The outputs of two consecutive cases will be separated by a<br> blank line.</b></p> 
         <p></p> 
         <p>Write `<tt>YES</tt>‘ if the mobile is in equilibrium, write<br> `<tt>NO</tt>‘ otherwise.</p> 
         <h2><font color="#0070E8"><a name="SECTION0001003000000000000000">Sample<br> Input</a>&nbsp;<wbr></font></h2> 
         <pre>
1&nbsp;<wbr>
</pre> 
         <pre>
0 2 0 4&nbsp;<wbr>
</pre> 
         <pre>
0 3 0 1&nbsp;<wbr>
</pre> 
         <pre>
1 1 1 1&nbsp;<wbr>
</pre> 
         <pre>
2 4 4 2&nbsp;<wbr>
</pre> 
         <pre>
1 6 3 2
</pre> 
         <h2><font color="#0070E8"><a name="SECTION0001004000000000000000">Sample<br> Output</a>&nbsp;<wbr></font></h2> 
         <pre>
YES
</pre> 
         <div>
           &nbsp; 
          <wbr> 
         </div> 
         <div></div> 
         <div>
           代码： 
         </div> 
         <div> 
          <div></div> 
          <div>
            #include&lt;iostream&gt; 
          </div> 
          <div>
            #include&lt;cstring&gt; 
          </div> 
          <div>
            #include&lt;fstream&gt; 
          </div> 
          <div>
            using namespace std; 
          </div> 
          <div>
            char S[100]; 
          </div> 
          <div>
            int a[10000][5]; 
          </div> 
          <div>
            int count; 
          </div> 
          <div>
            bool OK; 
          </div> 
          <div>
            typedef struct node{ 
          </div> 
          <div>
            int m1; 
          </div> 
          <div>
            int l_len; 
          </div> 
          <div>
            int r_len; 
          </div> 
          <div>
            struct node *lchild; 
          </div> 
          <div>
            struct node *rchild; 
          </div> 
          <div>
            }node; 
          </div> 
          <div>
            node *root; 
          </div> 
          <div></div> 
          <div>
            void tonum(){ 
          </div> 
          <div>
            int len=strlen(S); 
          </div> 
          <div>
            int tmp=0; 
          </div> 
          <div>
            int j=0; 
          </div> 
          <div>
            for(int i=0;i&lt;len;i++){ 
          </div> 
          <div>
            if(S[i]&gt;=’0’&amp;&amp;S[i]&lt;=’9′){ 
          </div> 
          <div>
            tmp=tmp*10+S[i]-‘0′; 
          </div> 
          <div>
            }else{ 
          </div> 
          <div>
            a[count][j++]=tmp; 
          </div> 
          <div>
            tmp=0; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div>
            if(tmp!=0)a[count][j++]=tmp; 
          </div> 
          <div>
            } 
          </div> 
          <div></div> 
          <div>
            void build(node *r,int &amp;n){ 
          </div> 
          <div>
            if(n==count)return; 
          </div> 
          <div>
            r-&gt;lchild=new node; 
          </div> 
          <div>
            r-&gt;lchild-&gt;m1=a[n][0]; 
          </div> 
          <div>
            r-&gt;l_len=a[n][1]; 
          </div> 
          <div>
            r-&gt;rchild=new node; 
          </div> 
          <div>
            r-&gt;rchild-&gt;m1=a[n][2]; 
          </div> 
          <div>
            r-&gt;r_len=a[n][3]; 
          </div> 
          <div>
            int tmp=n; 
          </div> 
          <div>
            if(0==a[tmp][0]){ 
          </div> 
          <div>
            n++; 
          </div> 
          <div>
            build(r-&gt;lchild,n); 
          </div> 
          <div>
            } 
          </div> 
          <div>
            if(0==a[tmp][2]){ 
          </div> 
          <div>
            n++; 
          </div> 
          <div>
            build(r-&gt;rchild,n); 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div></div> 
          <div>
            int check(node *r){ 
          </div> 
          <div>
            if(!OK) 
          </div> 
          <div>
            return 0; 
          </div> 
          <div>
            if(r-&gt;lchild==NULL) 
          </div> 
          <div>
            return r-&gt;m1; 
          </div> 
          <div>
            int ll=check(r-&gt;lchild); 
          </div> 
          <div>
            int rr=check(r-&gt;rchild); 
          </div> 
          <div>
            if(ll*(r-&gt;l_len)!=rr*(r-&gt;r_len)){ 
          </div> 
          <div>
            OK=false; 
          </div> 
          <div>
            return 0; 
          </div> 
          <div>
            }else{ 
          </div> 
          <div>
            r-&gt;m1=ll+rr; 
          </div> 
          <div>
            return r-&gt;m1; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div></div> 
          <div>
            int main() 
          </div> 
          <div>
            { 
          </div> 
          <div>
            // freopen(“test.txt”,”r”,stdin); 
          </div> 
          <div>
            root=new node; 
          </div> 
          <div>
            root-&gt;lchild=NULL; 
          </div> 
          <div>
            root-&gt;rchild=NULL; 
          </div> 
          <div>
            int ncase; 
          </div> 
          <div>
            cin&gt;&gt;ncase; 
          </div> 
          <div>
            gets(S); 
          </div> 
          <div>
            gets(S); 
          </div> 
          <div>
            while(ncase–){ 
          </div> 
          <div>
            count=0; 
          </div> 
          <div>
            OK=true; 
          </div> 
          <div>
            while(gets(S)){ 
          </div> 
          <div>
            if(S[0]==’ ’)break; 
          </div> 
          <div>
            tonum(); 
          </div> 
          <div>
            count++; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            int tmp=0; 
          </div> 
          <div>
            build(root,tmp); 
          </div> 
          <div>
            check(root); 
          </div> 
          <div>
            if(OK)cout&lt;&lt;“YES”&lt;&lt;endl; 
          </div> 
          <div>
            else 
           <br> cout&lt;&lt;“NO”&lt;&lt;endl; 
          </div> 
          <div>
            if(ncase)cout&lt;&lt;endl; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            return 0; 
          </div> 
          <div>
            } 
          </div> 
         </div> 
         <div></div> 
        </div>
       </div>
       <!-- .entry-content --> 
       <!-- .entry-meta --> 
      </article>
      <!-- #post-91 --> 
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <!-- #secondary .widget-area --> 
   </div>
   <!-- #main --> 
   <!-- #colophon --> 
  </div>
  <!-- #page -->   
  <!-- JiaThis Button BEGIN -->  
  <!-- JiaThis Button END -->   
 </body>
</html>