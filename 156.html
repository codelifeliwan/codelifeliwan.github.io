<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
 <!--<![endif]-->
 <head>      
  <link rel="stylesheet" type="text/css" media="all" href="stylesheets/style.css">     
  <link rel="stylesheet" id="codebox-css" href="stylesheets/codebox.css" type="text/css" media="screen">             
 </head> 
 <body class="single single-post postid-156 single-format-standard content-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://codelifeliwan.github.io/" title="Code_Life_LiWan" rel="home">Code_Life_LiWan</a></span></h1> 
     <h2 id="site-description">My heart will go on and on…</h2> 
    </hgroup>  
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main" class="clearfix"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <!-- #nav-single --> 
      <article id="post-156" class="post-156 post type-post status-publish format-standard hentry category-acm tag-uva"> 
       <header class="entry-header"> 
        <h1 class="entry-title">UVA&nbsp;10099&nbsp;–&nbsp;The&nbsp;Tourist&nbsp;Guide【Floyd-Warshall】</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://codelifeliwan.github.io/?p=156" title="上午 9:33" rel="bookmark"><time class="entry-date" datetime="2011-08-25T09:33:29+00:00" pubdate>25 八月, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codelifeliwan.github.io/?author=1" title="View all posts by wanli" rel="author">wanli</a></span></span> 
         <span class="sep"> — </span> 
         <span class="comments-link"> <a href="http://codelifeliwan.github.io/?p=156#respond" title="Comment on UVA&nbsp;10099&nbsp;–&nbsp;The&nbsp;Tourist&nbsp;Guide【Floyd-Warshall】">No Comments ↓</a> </span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content">
        <div class="entry-content"> 
         <p> 题目：</p> 
         <div> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal"><font size="5">Problem<br> D</font></b></p> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal"><font size="6">The Tourist<br> Guide</font></b></p> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal">Input:</b> <span style="mso-bidi-font-weight:bold">standard input</span></p> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal">Output:</b> standard<br> output</p> 
          <p style="text-align:justify"> &nbsp;<wbr></p> 
          <p style="text-align:justify">Mr. G. works as a<br> tourist guide. His current assignment is to take some tourists from<br> one city to another. Some two-way roads connect the cities. For<br> each pair of neighboring cities there is a bus service that runs<br> only between those two cities and uses the road that directly<br> connects them. Each bus service has a limit on the maximum number<br> of passengers it can carry. Mr. G. has a map showing the cities and<br> the roads connecting them. He also has the information regarding<br> each bus service. He understands that it may not always be possible<br> for him to take all the tourists to the destination city in a<br> single trip. For example, consider the following road map of 7<br> cities. The edges connecting the cities represent the roads and the<br> number written on each edge indicates the passenger limit of the<br> bus service that runs on that road.</p> 
          <p style="text-align:justify"> &nbsp;<wbr></p> 
          <p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br> <img src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/100/p10099.gif" height="287" width="344" alt="UVA&nbsp;<wbr>10099&nbsp;<wbr>-&nbsp;<wbr>The&nbsp;<wbr>Tourist&nbsp;<wbr>Guide【Floyd-Warshall】"><wbr>10099&nbsp;<wbr>-&nbsp;<wbr>The&nbsp;<wbr>Tourist&nbsp;<wbr>Guide【Floyd-Warshall】” TITLE=”UVA&nbsp;<wbr>10099&nbsp;<wbr>-&nbsp;<wbr>The&nbsp;<wbr>Tourist&nbsp;<wbr>Guide【Floyd-Warshall】” /&gt;<br> </p> 
          <p style="text-align:justify;text-indent:.5in"> Now, if he wants to take 99 tourists from city 1 to city 7, he will<br> require at least 5 trips, since he has to ride the bus with each<br> group, and the route he should take is : 1 – 2 – 4 – 7.</p> 
          <p style="text-align:justify;text-indent:.5in"> But, Mr. G. finds it difficult to find the best route all by<br> himself so that he may be able to take all the tourists to the<br> destination city in minimum number of trips. So, he seeks your<br> help.</p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><span style="font-size:14.0pt;mso-bidi-font-size:10.0pt">&nbsp;<wbr></span></b></p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><font size="5">Input</font></b></p> 
          <p style="text-align:justify">The input will<br> contain one or more test cases. The first line of each test case<br> will contain two integers: <i style="mso-bidi-font-style:normal">N</i> (N&lt;= 100) and<br> <i style="mso-bidi-font-style: normal">R</i> representing<br> respectively the number of cities and the number of road segments.<br> Then <i style="mso-bidi-font-style:normal">R</i> lines will follow<br> each containing three integers: <i style="mso-bidi-font-style:normal">C</i><sub><span style="color:windowtext">1</span></sub>, <i style="mso-bidi-font-style:normal">C</i><i style="mso-bidi-font-style:normal"><sub><span style="color:windowtext">2</span></sub></i> and <i style="mso-bidi-font-style:normal">P</i>. <i style="mso-bidi-font-style: normal">C</i><sub><span style="color:windowtext">1</span></sub> and <i style="mso-bidi-font-style:normal">C</i><i style="mso-bidi-font-style:normal"><sub><span style="color:windowtext">2</span></sub></i> are the city numbers and<br> <i style="mso-bidi-font-style:normal">P</i> (P&gt; 1)<br> is the limit on the maximum number of passengers to be carried by<br> the bus service between the two cities. City numbers are positive<br> integers ranging from 1 to <i style="mso-bidi-font-style: normal">N</i>. The (<i style="mso-bidi-font-style:normal">R</i> + 1)-th line will contain three<br> integers: <i style="mso-bidi-font-style:normal">S</i>, <i style="mso-bidi-font-style:normal">D</i> and <i style="mso-bidi-font-style: normal">T</i> representing respectively the<br> starting city, the destination city and the number of tourists to<br> be guided.</p> 
          <p style="text-align:justify;text-indent:.5in"> The input will end with two zeroes for <i style="mso-bidi-font-style:normal">N</i> and <i style="mso-bidi-font-style:normal">R</i>.</p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><span style="font-size:14.0pt;mso-bidi-font-size:10.0pt">&nbsp;<wbr></span></b></p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><font size="5">Output</font></b></p> 
          <p style="text-align:justify">For each test case<br> in the input first output the scenario number. Then output the<br> minimum number of trips required for this case on a separate line.<br> Print a blank line after the output of each test case.</p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><span style="font-size:14.0pt;mso-bidi-font-size:10.0pt">&nbsp;<wbr></span></b></p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><font size="5">Sample<br> Input</font></b></p> 
          <p><font face="Courier" size="3">7 10<br> 1 2 30<br> 1 3 15<br> 1 4 10<br> 2 4 25<br> 2 5 60<br> 3 4 40<br> 3 6 20<br> 4 7 35<br> 5 7 20<br> 6 7 30<br> 1 7 99<br> 0 0</font></p> 
          <font face="Courier" size="3"> </font> 
          <p><font face="Courier" size="3"></font></p> 
          <p style="text-align:justify"><b style="mso-bidi-font-weight: normal"><font size="5">Sample<br> Output</font></b></p> 
          <p><font face="Courier" size="3">Scenario #1<br> Minimum Number of Trips = 5<br></font></p> 
         </div> 
         <div> 
          <font face="Courier" size="3"><br></font> 
         </div> 
         <div> 
          <font face="Courier" size="3"><span style="line-height: 24px;">代码：</span></font> 
         </div> 
         <div> 
          <div></div> 
          <div>
            #include&lt;iostream&gt; 
          </div> 
          <div>
            #include&lt;cstring&gt; 
          </div> 
          <div>
            #include&lt;algorithm&gt; 
          </div> 
          <div>
            #include&lt;fstream&gt; 
          </div> 
          <div>
            #include&lt;cmath&gt; 
          </div> 
          <div>
            #include&lt;cstdio&gt; 
          </div> 
          <div>
            #define INF 99999999 
          </div> 
          <div>
            #define maxn 100 
          </div> 
          <div>
            using namespace std; 
          </div> 
          <div>
            int dist[maxn][maxn]; 
          </div> 
          <div>
            int N,R; 
          </div> 
          <div></div> 
          <div></div> 
          <div>
            int main() 
          </div> 
          <div>
            { 
          </div> 
          <div>
            // freopen(“test.txt”,”r”,stdin); 
          </div> 
          <div>
            int ncase=0; 
          </div> 
          <div>
            while(cin&gt;&gt;N&gt;&gt;R){ 
          </div> 
          <div>
            if(N==0&amp;&amp;0==R)break; 
          </div> 
          <div>
            for(int i=0;i&lt;N;i++){ 
          </div> 
          <div>
            for(int j=i;j&lt;N;j++){ 
          </div> 
          <div>
            dist[i][j]=dist[j][i]=0; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div>
            for(int i=0;i&lt;R;i++){ 
          </div> 
          <div>
            int x,y,d; 
          </div> 
          <div>
            cin&gt;&gt;x&gt;&gt;y&gt;&gt;d; 
          </div> 
          <div>
            dist[x-1][y-1]=dist[y-1][x-1]=d; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            int start,end,people; 
          </div> 
          <div>
            cin&gt;&gt;start&gt;&gt;end&gt;&gt;people; 
          </div> 
          <div>
            for(int i=0;i&lt;N;i++){ 
          </div> 
          <div>
            for(int j=0;j&lt;N;j++){ 
          </div> 
          <div>
            for(int k=0;k&lt;N;k++){ 
          </div> 
          <div>
            dist[j][k]=max(dist[j][k],min(dist[j][i],dist[i][k])); 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div>
            int temp=dist[start-1][end-1]; 
          </div> 
          <div>
            ncase++; 
          </div> 
          <div>
            cout&lt;&lt;“Scenario 
           <br> #”&lt;&lt;ncase&lt;&lt;endl&lt;&lt;“Minimum 
           <br> Number of Trips = “; 
          </div> 
          <div>
            if(people%(temp-1))cout&lt;&lt;people/(temp-1)+1; 
          </div> 
          <div>
            else 
           <br> cout&lt;&lt;people/(temp-1); 
          </div> 
          <div>
            cout&lt;&lt;endl&lt;&lt;endl; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            return 0; 
          </div> 
          <div>
            } 
          </div> 
          <div style="font-family: Courier; line-height: 24px;"></div> 
         </div> 
        </div>
       </div>
       <!-- .entry-content --> 
       <!-- .entry-meta --> 
      </article>
      <!-- #post-156 --> 
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <!-- #secondary .widget-area --> 
   </div>
   <!-- #main --> 
   <!-- #colophon --> 
  </div>
  <!-- #page -->   
  <!-- JiaThis Button BEGIN -->  
  <!-- JiaThis Button END -->   
 </body>
</html>