<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
 <!--<![endif]-->
 <head>      
  <link rel="stylesheet" type="text/css" media="all" href="stylesheets/style.css">     
  <link rel="stylesheet" id="codebox-css" href="stylesheets/codebox.css" type="text/css" media="screen">             
 </head> 
 <body class="single single-post postid-154 single-format-standard content-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://codelifeliwan.github.io/" title="Code_Life_LiWan" rel="home">Code_Life_LiWan</a></span></h1> 
     <h2 id="site-description">My heart will go on and on…</h2> 
    </hgroup>  
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main" class="clearfix"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <!-- #nav-single --> 
      <article id="post-154" class="post-154 post type-post status-publish format-standard hentry category-acm tag-uva"> 
       <header class="entry-header"> 
        <h1 class="entry-title">UVA&nbsp;10397&nbsp;–&nbsp;Connect&nbsp;the&nbsp;Campus&nbsp;【最小生成树&nbsp;Prim/Kruskal&amp;并查集】</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://codelifeliwan.github.io/?p=154" title="下午 5:12" rel="bookmark"><time class="entry-date" datetime="2011-08-22T17:12:16+00:00" pubdate>22 八月, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codelifeliwan.github.io/?author=1" title="View all posts by wanli" rel="author">wanli</a></span></span> 
         <span class="sep"> — </span> 
         <span class="comments-link"> <a href="http://codelifeliwan.github.io/?p=154#respond" title="Comment on UVA&nbsp;10397&nbsp;–&nbsp;Connect&nbsp;the&nbsp;Campus&nbsp;【最小生成树&nbsp;Prim/Kruskal&amp;并查集】">No Comments ↓</a> </span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content">
        <div class="entry-content"> 
         <p> 今天花了半天时间就本题对最小生成树好好研究了一下。。。。。</p> 
         <div>
           题目给出一些点和一些已经给出的边，求还需要的最短电缆长度。 
         </div> 
         <div>
           如果用Prim算法只需要将给出的边的长度置为0即可。 
          <p></p> 
          <div>
            下面对这题有三种解法： 
          </div> 
          <div>
            【一】Prim未优化。Run Time :2.496s 
          </div> 
          <div>
            未优化指筛选的时候的优化。 
          </div> 
          <div>
            【二】Prim优化。Run Time ：0.104s 
          </div> 
          <div>
            【三】Kruskal算法：Run Time：0.388s 
          </div> 
          <div></div> 
          <div>
            题目： 
          </div> 
          <div> 
           <p style="text-align:center" align="center"><b><span style="font-size:18.0pt">Problem E</span></b><br> <b><span style="font-size:24.0pt">Connect the<br> Campus</span></b><br> <b>Input:</b> standard input<br> <b>Output:</b> standard output<br> <b>Time Limit:</b> 2 seconds</p> 
           <p style="text-align:justify">Many new buildings are under<br> construction on the campus of the University of Waterloo. The<br> university has hired bricklayers, electricians, plumbers, and a<br> computer programmer. A computer programmer? Yes, you have been<br> hired to ensure that each building is connected to every other<br> building (directly or indirectly) through the campus network of<br> communication cables.</p> 
           <p style="text-align:justify">We will treat each building as a<br> point specified by an x-coordinate and a y-coordinate. Each<br> communication cable connects exactly two buildings, following a<br> straight line between the buildings. Information travels along a<br> cable in both directions. Cables can freely cross each other, but<br> they are only connected together at their endpoints (at<br> buildings).</p> 
           <p style="text-align:justify">You have been given a campus map<br> which shows the locations of all buildings and existing<br> communication cables. You must not alter the existing cables.<br> Determine where to install new communication cables so that all<br> buildings are connected. Of course, the university wants you to<br> minimize the amount of new cable that you use.</p> 
           <p style="text-align:center" align="center"><img src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/103/p10397.jpg" v:shapes="_x0000_i1025" height="303" width="596" alt="UVA&nbsp;<wbr>10397&nbsp;<wbr>-&nbsp;<wbr>Connect&nbsp;<wbr>the&nbsp;<wbr>Campus&nbsp;<wbr>【最小生成树&nbsp;<wbr>Prim/Kruskal&amp;并查集】"><wbr>10397&nbsp;<wbr>-&nbsp;<wbr>Connect&nbsp;<wbr>the&nbsp;<wbr>Campus&nbsp;<wbr>【最小生成树&nbsp;<wbr>Prim/Kruskal&amp;并查集】” TITLE=”UVA&nbsp;<wbr>10397&nbsp;<wbr>-&nbsp;<wbr>Connect&nbsp;<wbr>the&nbsp;<wbr>Campus&nbsp;<wbr>【最小生成树&nbsp;<wbr>Prim/Kruskal&amp;并查集】” /&gt;</p> 
           <p style="text-align:center" align="center"><b>Fig:</b><br> <b>University</b> <b>of</b> <b>Waterloo</b> <b>Campus</b></p> 
           <p><b>&nbsp;<wbr></b></p> 
           <p><b><span style="font-size:18.0pt">Input</span></b></p> 
           <p style="text-align:justify">The input file describes several test<br> case.<span style="mso-spacerun:yes">&nbsp;<wbr></span> The<br> description of each test case is given below:</p> 
           <p style="text-align:justify">The first line of each test case<br> contains the number of buildings <b style="mso-bidi-font-weight:normal">N<br> (1&lt;=N&lt;=750)</b>. The buildings are<br> labeled from <b style="mso-bidi-font-weight:normal">1</b> to<br> <b style="mso-bidi-font-weight:normal">N</b>. The next <b style="mso-bidi-font-weight: normal">N</b> lines give the <b style="mso-bidi-font-weight:normal">x</b> and <b style="mso-bidi-font-weight:normal">y</b> coordinates of the buildings.<br> These coordinates are integers with absolute values at most<br> <b style="mso-bidi-font-weight: normal">10000</b>. No two buildings<br> occupy the same point. After that there is a line containing the<br> number of existing cables <b style="mso-bidi-font-weight: normal">M<br> (0 &lt;= M &lt;= 1000)</b> followed by<br> <b style="mso-bidi-font-weight: normal">M</b> lines describing the<br> existing cables. Each cable is represented by two integers: the<br> building numbers which are directly connected by the cable. There<br> is at most one cable directly connecting each pair of<br> buildings.</p> 
           <p><b><span style="font-size:18.0pt">Output</span></b></p> 
           <p style="text-align:justify">For each set of input, output in a<br> single line the total length of the new cables that you plan to<br> use, rounded to two decimal places.</p> 
           <p><b><span style="font-size:18.0pt">Sample Input</span></b></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 4<br> 103 104<br> 104 100<br> 104 103<br> 100 100<br> 1<br> 4 2</span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 4<br> 103 104</span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 104 100</span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 104 103</span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 100 100</span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 1</span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> 4 2</span></p> 
           <p>&nbsp;<wbr></p> 
           <p><b style="mso-bidi-font-weight:normal"><span style="font-size:18.0pt">Sample Output</span></b><b style="mso-bidi-font-weight: normal"><span style="font-size:18.0pt;font-family:&quot;Courier new&quot;"><br> </span></b><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;">4.41</span></p> 
           <p>4.41</p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> <br></span></p> 
           <p><span style="font-size:11.0pt;font-family:&quot;Courier new&quot;"><br> <br></span></p> 
           <p><font face="'Courier New'"><span style="font-size: 15px; line-height: 22px;">代码：</span></font></p> 
           <p><font face="'Courier New'"><span style="font-size: 15px; line-height: 22px;">【解法一】：</span></font></p> 
           <p>&nbsp;<wbr></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;iostream&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cstring&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;algorithm&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cmath&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cstdio&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;fstream&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#define maxn<br> 755</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#define INF<br> 99999999</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">using<br> namespace std;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">typedef struct<br> node{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x,y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}node;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">node<br> N[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> dist[maxn][maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> p[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> vis[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> num;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> dis(node a,node b){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> main()</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">//<br> freopen(“test.txt”,”r”,stdin);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">while(cin&gt;&gt;num){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;N[i].x&gt;&gt;N[i].y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> j=i;j&lt;num;j++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">dist[i][j]=dist[j][i]=dis(N[i],N[j]);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;x;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> a,b;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;a&gt;&gt;b;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">a–,b–;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">dist[a][b]=dist[b][a]=0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">memset(vis,0,sizeof(vis));</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> number=1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">vis[0]=1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">p[0]=0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> len=0.0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=1;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> tmp=INF;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> mark;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> j=0;j&lt;number;j++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> k=0;k&lt;num;k++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">if(vis[k]==0&amp;&amp;tmp&gt;dist[p[j]][k]){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">tmp=dist[p[j]][k];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">mark=k;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">p[number++]=mark;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">vis[mark]=1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">len+=tmp;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">printf(“%.2lfn”,len);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> 0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">【解法二】：</span></p> 
           <p>&nbsp;<wbr></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;iostream&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cstring&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;algorithm&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cmath&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cstdio&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;fstream&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#define maxn<br> 755</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#define INF<br> 99999999</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">using<br> namespace std;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">typedef struct<br> node{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x,y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}node;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">node<br> N[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> dist[maxn][maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> d[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> vis[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> num;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> dis(node a,node b){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> main()</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">//<br> freopen(“test.txt”,”r”,stdin);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">while(cin&gt;&gt;num){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;N[i].x&gt;&gt;N[i].y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> j=i;j&lt;num;j++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">dist[i][j]=dist[j][i]=dis(N[i],N[j]);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;x;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> a,b;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;a&gt;&gt;b;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">a–,b–;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">dist[a][b]=dist[b][a]=0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">memset(vis,0,sizeof(vis));</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> number=1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">vis[0]=1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> len=0.0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++)d[i]=dist[0][i];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=1;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> tmp=INF;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> mark;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">if(vis[i]==0&amp;&amp;d[i]&lt;tmp){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">tmp=d[i];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">mark=i;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">vis[mark]=1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">len+=tmp;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">if(vis[i]==0)</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">d[i]=min(d[i],dist[i][mark]);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">printf(“%.2lfn”,len);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> 0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">【解法三】：</span></p> 
           <p>&nbsp;<wbr></p> 
           <p>&nbsp;<wbr></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;iostream&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cstring&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;algorithm&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cmath&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;fstream&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#include&lt;cstdio&gt;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#define INF<br> 99999999</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">#define maxn<br> 755</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">using<br> namespace std;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">typedef struct<br> node{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}node;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">typedef struct<br> edge{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> dist;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}edge;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">node<br> N[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">edge<br> E[maxn*maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> f[maxn];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> num;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> dis(node a,node b){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int find(int<br> a){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">while(f[a]!=a){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">a=f[a];</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> a;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">bool<br> mycmp(edge a,edge b){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> a.dist&lt;b.dist;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;"><br></span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> main()</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">{</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">//<br> freopen(“test.txt”,”r”,stdin);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">while(cin&gt;&gt;num){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;N[i].x&gt;&gt;N[i].y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">f[i]=i;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> X1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;X1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;X1;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> a,b;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">cin&gt;&gt;a&gt;&gt;b;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">a–;b–;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> a1=find(a);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> b1=find(b);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">if(a1!=b1){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">f[b1]=a1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> number=0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;num-1;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> j=i+1;j&lt;num;j++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">E[number].x=i;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">E[number].y=j;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">E[number].dist=dis(N[i],N[j]);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">number++;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">sort(E,E+number,mycmp);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">double<br> len=0.0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">for(int<br> i=0;i&lt;number;i++){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x=E[i].x;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> y=E[i].y;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> x1=find(x);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">int<br> y1=find(y);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">if(x1!=y1){</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">f[y1]=x1;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">len+=E[i].dist;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">printf(“%.2lfn”,len);</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">return<br> 0;</span></p> 
           <p><span style="font-size: 15px; line-height: 22px;">}</span></p> 
           <div style="font-size: 15px; line-height: 22px;"></div> 
           <div style="text-align:center" align="center"></div> 
          </div> 
         </div> 
        </div>
       </div>
       <!-- .entry-content --> 
       <!-- .entry-meta --> 
      </article>
      <!-- #post-154 --> 
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <!-- #secondary .widget-area --> 
   </div>
   <!-- #main --> 
   <!-- #colophon --> 
  </div>
  <!-- #page -->   
  <!-- JiaThis Button BEGIN -->  
  <!-- JiaThis Button END -->   
 </body>
</html>