<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
 <!--<![endif]-->
 <head>      
  <link rel="stylesheet" type="text/css" media="all" href="stylesheets/style.css">     
  <link rel="stylesheet" id="codebox-css" href="stylesheets/codebox.css" type="text/css" media="screen">             
 </head> 
 <body class="single single-post postid-86 single-format-standard content-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://codelifeliwan.github.io/" title="Code_Life_LiWan" rel="home">Code_Life_LiWan</a></span></h1> 
     <h2 id="site-description">My heart will go on and on…</h2> 
    </hgroup>  
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main" class="clearfix"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <!-- #nav-single --> 
      <article id="post-86" class="post-86 post type-post status-publish format-standard hentry category-acm tag-uva"> 
       <header class="entry-header"> 
        <h1 class="entry-title">UVA&nbsp;699&nbsp;–&nbsp;The&nbsp;Falling&nbsp;Leaves&nbsp;解题报告</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://codelifeliwan.github.io/?p=86" title="上午 11:22" rel="bookmark"><time class="entry-date" datetime="2011-07-09T11:22:14+00:00" pubdate>9 七月, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codelifeliwan.github.io/?author=1" title="View all posts by wanli" rel="author">wanli</a></span></span> 
         <span class="sep"> — </span> 
         <span class="comments-link"> <a href="http://codelifeliwan.github.io/?p=86#respond" title="Comment on UVA&nbsp;699&nbsp;–&nbsp;The&nbsp;Falling&nbsp;Leaves&nbsp;解题报告">No Comments ↓</a> </span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content">
        <div class="entry-content"> 
         <p> 这个是简单二叉树的模拟，不需要真正建立二叉树，只需要按照先序模拟二叉树的建立即可。</p> 
         <div>
           题目： 
         </div> 
         <div> 
          <table bgcolor="#0060F0"> 
           <tbody> 
            <tr> 
             <td><b><font color="#C0FFFF" size="5"><a name="SECTION0001000000000000000000">The Falling<br> Leaves</a>&nbsp;<wbr></font></b></td> 
            </tr> 
           </tbody> 
          </table> 
          <p>Each year, fall in the North Central region is accompanied by<br> the brilliant colors of the leaves on the trees, followed quickly<br> by the falling leaves accumulating under the trees. If the same<br> thing happened to binary trees, how large would the piles of leaves<br> become?</p> 
          <p> We assume each node in a binary tree “drops” a number of leaves<br> equal to the integer value stored in that node. We also assume that<br> these leaves drop vertically to the ground (thankfully, there’s no<br> wind to blow them around). Finally, we assume that the nodes are<br> positioned horizontally in such a manner that the left and right<br> children of a node are exactly one unit to the left and one unit to<br> the right, respectively, of their parent. Consider the following<br> tree:</p> 
          <div align="center"> 
           <img src="http://simg.sinajs.cn/blog7style/images/common/sg_trans.gif" real_src="http://uva.onlinejudge.org/external/6/p699.gif" alt="UVA&nbsp;<wbr>699&nbsp;<wbr>-&nbsp;<wbr>The&nbsp;<wbr>Falling&nbsp;<wbr>Leaves&nbsp;<wbr>解题报告"> 
           <wbr>699&nbsp; 
           <wbr>-&nbsp; 
           <wbr>The&nbsp; 
           <wbr>Falling&nbsp; 
           <wbr>Leaves&nbsp; 
           <wbr>解题报告” TITLE=”UVA&nbsp; 
           <wbr>699&nbsp; 
           <wbr>-&nbsp; 
           <wbr>The&nbsp; 
           <wbr>Falling&nbsp; 
           <wbr>Leaves&nbsp; 
           <wbr>解题报告” /&gt; 
          </div> 
          <p>The nodes containing 5 and 6 have the same horizontal position<br> (with different vertical positions, of course). The node containing<br> 7 is one unit to the left of those containing 5 and 6, and the node<br> containing 3 is one unit to their right. When the “leaves” drop<br> from these nodes, three piles are created: the leftmost one<br> contains 7 leaves (from the leftmost node), the next contains 11<br> (from the nodes containing 5 and 6), and the rightmost pile<br> contains 3. (While it is true that only leaf nodes in a tree would<br> logically have leaves, we ignore that in this problem.)</p> 
          <h2><font color="#0070E8"><a name="SECTION0001001000000000000000">Input</a>&nbsp;<wbr></font></h2> 
          <p>The input contains multiple test cases, each describing a single<br> tree. A tree is specified by giving the value in the root node,<br> followed by the description of the left subtree, and then the<br> description of the right subtree. If a subtree is empty, the value<br> <tt>-1</tt> is supplied. Thus the tree shown above is specified as<br> <tt>5 7 -1 6 -1 -1 3 -1 -1</tt>. Each actual tree node contains a<br> positive, non-zero value. The last test case is followed by a<br> single <tt>-1</tt> (which would otherwise represent an empty tree).</p> 
          <h2><font color="#0070E8"><a name="SECTION0001002000000000000000">Output</a>&nbsp;<wbr></font></h2> 
          <p>For each test case, display the case number (they are numbered<br> sequentially, starting with 1) on a line by itself. On the next<br> line display the number of “leaves” in each pile, from left to<br> right, with a single space separating each value. This display must<br> start in column 1, and will not exceed the width of an 80-character<br> line. Follow the output for each case by a blank line. This format<br> is illustrated in the examples below.</p> 
          <h2><font color="#0070E8"><a name="SECTION0001003000000000000000">Sample<br> Input</a>&nbsp;<wbr></font></h2> 
          <pre>
5 7 -1 6 -1 -1 3 -1 -1
</pre> 
          <pre>
8 2 9 -1 -1 6 5 -1 -1 12 -1
</pre> 
          <pre>
-1 3 7 -1 -1 -1
</pre> 
          <pre>
-1
</pre> 
          <h2><font color="#0070E8"><a name="SECTION0001004000000000000000">Sample<br> Output</a>&nbsp;<wbr></font></h2> 
          <pre>
Case 1:
7 11 3&nbsp;<wbr>
</pre> 
          <pre>
&nbsp;<wbr>Case 2:
9 7 21 15&nbsp;<wbr>
</pre> 
          <pre>
<br>
</pre> 
          <pre>
<br>
</pre> 
          <pre>
<br>
</pre> 
          <pre>
代码：
</pre> 
          <pre>
<br>
</pre> 
          <pre>
#include&lt;iostream&gt;
</pre> 
          <pre>
#include&lt;fstream&gt;
</pre> 
          <pre>
#include&lt;cstring&gt;
</pre> 
          <pre>
#define maxn 100000
</pre> 
          <pre>
#define middle 50000
</pre> 
          <pre>
using namespace std;
</pre> 
          <pre>
<br>
</pre> 
          <pre>
int number[maxn];
</pre> 
          <pre>
int len;
</pre> 
          <pre>
<br>
</pre> 
          <pre>
void buildtree(int num,int a){
</pre> 
          <pre>
<span style="white-space:pre"> </span>if(num==-1){
</pre> 
          <pre>
<span style="white-space:pre"> </span>return ;
</pre> 
          <pre>
<span style="white-space:pre"> </span>}
</pre> 
          <pre>
<span style="white-space:pre"> </span>if(number[a]==0)len++;
</pre> 
          <pre>
<span style="white-space:pre"> </span>number[a]+=num;
</pre> 
          <pre>
<span style="white-space:pre"> </span>cin&gt;&gt;num;
</pre> 
          <pre>
<span style="white-space:pre"> </span>buildtree(num,a-1);
</pre> 
          <pre>
<span style="white-space:pre"> </span>cin&gt;&gt;num;
</pre> 
          <pre>
<span style="white-space:pre"> </span>buildtree(num,a+1);
</pre> 
          <pre>
}
</pre> 
          <pre>
<br>
</pre> 
          <pre>
int main()
</pre> 
          <pre>
{
</pre> 
          <pre>
//<span style="white-space:pre"> </span>freopen("test.txt","r",stdin);
</pre> 
          <pre>
<span style="white-space:pre"> </span>int num;
</pre> 
          <pre>
<span style="white-space:pre"> </span>int count=0;
</pre> 
          <pre>
<span style="white-space:pre"> </span>while(cin&gt;&gt;num&amp;&amp;num!=-1){
</pre> 
          <pre>
<span style="white-space:pre"> </span>count++;
</pre> 
          <pre>
<span style="white-space:pre"> </span>len=0;
</pre> 
          <pre>
<span style="white-space:pre"> </span>memset(number,0,sizeof(number));
</pre> 
          <pre>
<span style="white-space:pre"> </span>buildtree(num,middle);
</pre> 
          <pre>
<span style="white-space:pre"> </span>cout&lt;&lt;"Case "&lt;&lt;count&lt;&lt;":"&lt;&lt;endl;
</pre> 
          <pre>
<span style="white-space:pre"> </span>int begin=middle;
</pre> 
          <pre>
<span style="white-space:pre"> </span>while(number[begin]){
</pre> 
          <pre>
<span style="white-space:pre"> </span>begin--;
</pre> 
          <pre>
<span style="white-space:pre"> </span>}
</pre> 
          <pre>
<span style="white-space:pre"> </span>begin++;
</pre> 
          <pre>
<span style="white-space:pre"> </span>for(int i=begin;i&lt;len+begin;i++){
</pre> 
          <pre>
<span style="white-space:pre"> </span>cout&lt;&lt;number[i];
</pre> 
          <pre>
<span style="white-space:pre"> </span>if(i!=begin+len-1)cout&lt;&lt;" ";
</pre> 
          <pre>
<span style="white-space:pre"> </span>else cout&lt;&lt;endl;
</pre> 
          <pre>
<span style="white-space:pre"> </span>}
</pre> 
          <pre>
<span style="white-space:pre"> </span>cout&lt;&lt;endl;
</pre> 
          <pre>
<span style="white-space:pre"> </span>}
</pre> 
          <pre>
<span style="white-space:pre"> </span>return 0;
</pre> 
          <pre>
}
</pre> 
          <div></div> 
         </div> 
        </div>
       </div>
       <!-- .entry-content --> 
       <!-- .entry-meta --> 
      </article>
      <!-- #post-86 --> 
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <!-- #secondary .widget-area --> 
   </div>
   <!-- #main --> 
   <!-- #colophon --> 
  </div>
  <!-- #page -->   
  <!-- JiaThis Button BEGIN -->  
  <!-- JiaThis Button END -->   
 </body>
</html>