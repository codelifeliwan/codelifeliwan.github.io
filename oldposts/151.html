<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN">
 <!--<![endif]-->
 <head>      
  <link rel="stylesheet" type="text/css" media="all" href="stylesheets/style.css">     
  <link rel="stylesheet" id="codebox-css" href="stylesheets/codebox.css" type="text/css" media="screen">             
 </head> 
 <body class="single single-post postid-151 single-format-standard content-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://codelifeliwan.github.io/" title="Code_Life_LiWan" rel="home">Code_Life_LiWan</a></span></h1> 
     <h2 id="site-description">My heart will go on and on…</h2> 
    </hgroup>  
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main" class="clearfix"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <!-- #nav-single --> 
      <article id="post-151" class="post-151 post type-post status-publish format-standard hentry category-acm tag-uva"> 
       <header class="entry-header"> 
        <h1 class="entry-title">UVA&nbsp;10534&nbsp;–&nbsp;Wavio&nbsp;Sequence（最长递增子序列）【LIS】</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://codelifeliwan.github.io/?p=151" title="下午 5:43" rel="bookmark"><time class="entry-date" datetime="2011-08-15T17:43:03+00:00" pubdate>15 八月, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codelifeliwan.github.io/?author=1" title="View all posts by wanli" rel="author">wanli</a></span></span> 
         <span class="sep"> — </span> 
         <span class="comments-link"> <a href="http://codelifeliwan.github.io/?p=151#comments" title="Comment on UVA&nbsp;10534&nbsp;–&nbsp;Wavio&nbsp;Sequence（最长递增子序列）【LIS】">1 Comment ↓</a> </span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content">
        <div class="entry-content"> 
         <p> 这个题目比较纠结啊，要求出最长递增子序列，求出来以后还要。。。。。这个还是比较恶心的，做了一下午这个题！</p> 
         <div>
           参考： 
         </div> 
         <div> 
          <a href="http://hi.baidu.com/knowledgetime/blog/item/272a37275d092925d4074204.html"><p></p> </a> 
          <p><a href="http://hi.baidu.com/knowledgetime/blog/item/272a37275d092925d4074204.html">http://hi.baidu.com/knowledgetime/blog/item/272a37275d092925d4074204<wbr>.html</a></p> 
         </div> 
         <div></div> 
         <div>
           题目： 
         </div> 
         <div> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal"><span style="font-size:28.0pt;mso-bidi-font-size:12.0pt;font-family: Arial">Problem<br> D</span></b><span style="font-family:Arial"><br></span><b style="mso-bidi-font-weight:normal"><span style="font-size:20.0pt; mso-bidi-font-size:24.0pt;font-family:Arial">Wavio<br> Sequence</span></b> <span style="font-size:20.0pt;mso-bidi-font-size:12.0pt;font-family:Arial"><br> </span><b style="mso-bidi-font-weight:normal"><span style="font-family:Arial">Input:</span></b> <span style="font-family:Arial;mso-bidi-font-weight:bold">Standard<br> Input</span></p> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal"><span style="font-family:Arial">Output:</span></b> <span style="font-family:Arial;mso-bidi-font-weight:bold">Standard<br> Output</span></p> 
          <p style="text-align:center" align="center"> <b style="mso-bidi-font-weight: normal"><span style="font-family:Arial">Time Limit:</span></b> <span style="font-family:Arial;mso-bidi-font-weight:bold">2 Seconds</span></p> 
          <p style="text-align:center" align="center"> <span style="font-family:Arial;mso-bidi-font-weight:bold">&nbsp;<wbr></span></p> 
          <p style="mso-margin-top-alt:auto;mso-margin-bottom-alt:auto; text-align:justify"> Wavio is a sequence of integers. It has some interesting<br> properties.</p> 
          <p><span style="mso-hansi-font-family:symbol">·</span><span style="mso-spacerun: yes">&nbsp;<wbr></span> Wavio is of odd<br> length i.e. <b>L = 2*n + 1</b>.</p> 
          <p><span style="mso-hansi-font-family:symbol">·</span><span style="mso-spacerun: yes">&nbsp;<wbr></span> The first<br> <b>(n+1)</b> integers of Wavio sequence makes a strictly increasing<br> sequence.</p> 
          <p><span style="mso-hansi-font-family:symbol">·</span><span style="mso-spacerun: yes">&nbsp;<wbr></span> The last <b>(n+1)</b><br> integers of Wavio sequence makes a strictly decreasing<br> sequence.</p> 
          <p><span style="mso-hansi-font-family:symbol">·</span><span style="mso-spacerun: yes">&nbsp;<wbr></span> No two adjacent<br> integers are same in a Wavio sequence.</p> 
          <p>For example <b>1, 2, 3, 4, 5, 4, 3, 2,<br> 0</b> is an Wavio sequence of length <b>9</b>. But <b>1, 2, 3, 4,<br> 5, 4, 3, 2, 2</b> is not a valid wavio sequence. In this problem,<br> you will be given a sequence of integers. You have to find out the<br> length of the longest Wavio sequence which is a subsequence of the<br> given sequence. Consider, the given sequence as :</p> 
          <p style="text-align:center" align="center"><b>1<br> 2 3 2 1 2 3 4 3 2 1 5 4 1 2 3 2 2 1</b>.</p> 
          <p style="text-align:justify"> Here the longest Wavio sequence is : <b>1 2 3 4 5 4 3 2 1</b>. So,<br> the output will be <b>9</b>.</p> 
          <p style="text-align:justify"> &nbsp;<wbr></p> 
          <p><span><span style="font-size:16.0pt; mso-bidi-font-size:12.0pt;font-family:Arial;mso-bidi-font-family:&quot;Times new roman&quot;"><br> Input</span></span></p> 
          <p style="margin:0in;margin-bottom:.0001pt"> The input file contains less than <b>75</b> test cases. The<br> description of each test case is given below: Input is terminated<br> by end of file.</p> 
          <p style="text-align:justify"> &nbsp;<wbr></p> 
          <p style="text-align:justify">Each set starts<br> with a postive integer,<br> <b>N(1&lt;=N&lt;=10000)</b>. In next few<br> lines there will be <b>N</b> integers.</p> 
          <p style="text-align:justify"> &nbsp;<wbr></p> 
          <p><span><span style="font-size:16.0pt; mso-bidi-font-size:12.0pt;font-family:Arial;mso-bidi-font-family:&quot;Times new roman&quot;"><br> Output</span></span></p> 
          <p style="mso-margin-top-alt:auto;mso-margin-bottom-alt:auto; text-align:justify"> For each set of input print the length of longest wavio sequence in<br> a line.</p> 
          <h1><span style="font-family:Arial;color:black">Sample<br> Input<span style="mso-spacerun: yes">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><br> Output for Sample Input</span></h1> 
          <table style="background: #CCCCCC;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt; mso-padding-alt:0in 5.4pt 0in 5.4pt" cellpadding="0" cellspacing="0" bgcolor="#CCCCCC" border="1"> 
           <tbody> 
            <tr style="mso-yfti-irow:0;mso-yfti-lastrow:yes"> 
             <td style="width:257.4pt;border:solid windowtext .5pt; padding:0in 5.4pt 0in 5.4pt" valign="top" width="343"> <pre>
<b><span style="font-size:11.0pt; mso-bidi-font-size:10.0pt">10</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">1 2 3 4 5 4 3 2 1 10</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">19</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">1 2 3 2 1 2 3 4 3 2 1 5 4 1 2 3 2 2 1</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">5</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">1 2 3 4 5</span></b>
</pre> <pre>
<b><span style="mso-bidi-font-size:12.0pt">&nbsp;<wbr></span></b>
</pre> </td> 
             <td style="width:204.85pt;border:solid windowtext .5pt; border-left:none;mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt" valign="top" width="273"> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">9</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">9</span></b>
</pre> <pre>
<b><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt">1</span></b>
</pre> <p style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"> <b><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Courier new&quot;"><br> &nbsp;<wbr></span></b></p> </td> 
            </tr> 
           </tbody> 
          </table> 
          <p></p> 
         </div> 
         <div></div> 
         <div>
           代码： 
         </div> 
         <div> 
          <div></div> 
          <div>
            #include&lt;iostream&gt; 
          </div> 
          <div>
            #include&lt;cstring&gt; 
          </div> 
          <div>
            #include&lt;algorithm&gt; 
          </div> 
          <div>
            #include&lt;fstream&gt; 
          </div> 
          <div>
            #define maxn 10005 
          </div> 
          <div>
            using namespace std; 
          </div> 
          <div>
            int a[maxn]; 
          </div> 
          <div>
            int b[maxn]; 
          </div> 
          <div>
            int b1[maxn]; 
          </div> 
          <div>
            int c[maxn]; 
          </div> 
          <div>
            int c1[maxn]; 
          </div> 
          <div>
            int num; 
          </div> 
          <div></div> 
          <div>
            int b_search(int begin,int end,int x){ 
          </div> 
          <div>
            if(x&lt;=b[begin])return 0; 
          </div> 
          <div>
            int m; 
          </div> 
          <div>
            while(begin&lt;end){ 
          </div> 
          <div>
            m=(begin+end)/2; 
          </div> 
          <div>
            if(b[m-1]&lt;x&amp;&amp;b[m]&gt;=x)return 
           <br> m; 
          </div> 
          <div>
            else if(b[m]&lt;x)begin=m; 
          </div> 
          <div>
            else end=m; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            return end; 
          </div> 
          <div>
            } 
          </div> 
          <div></div> 
          <div>
            int c_search(int begin,int end,int x){ 
          </div> 
          <div>
            if(x&lt;=c[begin])return 0; 
          </div> 
          <div>
            int m; 
          </div> 
          <div>
            while(begin&lt;end){ 
          </div> 
          <div>
            m=(begin+end)/2; 
          </div> 
          <div>
            if(c[m-1]&lt;x&amp;&amp;c[m]&gt;=x)return 
           <br> m; 
          </div> 
          <div>
            else if(c[m]&lt;x)begin=m; 
          </div> 
          <div>
            else end=m; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            return end; 
          </div> 
          <div>
            } 
          </div> 
          <div></div> 
          <div>
            int main() 
          </div> 
          <div>
            { 
          </div> 
          <div>
            // freopen(“test.txt”,”r”,stdin); 
          </div> 
          <div>
            while(cin&gt;&gt;num){ 
          </div> 
          <div>
            for(int i=0;i&lt;num;i++){ 
          </div> 
          <div>
            cin&gt;&gt;a[i]; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            int bnum=1; 
          </div> 
          <div>
            b[0]=a[0]; 
          </div> 
          <div>
            b1[0]=1; 
          </div> 
          <div>
            c1[num-1]=1; 
          </div> 
          <div>
            c[0]=a[num-1]; 
          </div> 
          <div>
            for(int i=1;i&lt;num;i++){ 
          </div> 
          <div>
            if(a[i]&gt;b[bnum-1]){ 
          </div> 
          <div>
            b[bnum++]=a[i]; 
          </div> 
          <div>
            b1[i]=bnum; 
          </div> 
          <div>
            }else{ 
          </div> 
          <div>
            int r=b_search(0,bnum,a[i]); 
          </div> 
          <div>
            b[r]=a[i]; 
          </div> 
          <div>
            b1[i]=r+1; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div>
            int cnum=1; 
          </div> 
          <div>
            for(int i=num-2;i&gt;=0;i–){ 
          </div> 
          <div>
            if(a[i]&gt;c[cnum-1]){ 
          </div> 
          <div>
            c[cnum++]=a[i]; 
          </div> 
          <div>
            c1[i]=cnum; 
          </div> 
          <div>
            }else{ 
          </div> 
          <div>
            int r=c_search(0,cnum,a[i]); 
          </div> 
          <div>
            c1[i]=r+1; 
          </div> 
          <div>
            c[r]=a[i]; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            } 
          </div> 
          <div>
            int ans=0; 
          </div> 
          <div>
            // for(int 
           <br> i=0;i&lt;num;i++)cout&lt;&lt;b1[i]&lt;&lt;” 
           <br> “;cout&lt;&lt;endl; 
          </div> 
          <div>
            // for(int 
           <br> i=0;i&lt;num;i++)cout&lt;&lt;c1[i]&lt;&lt;” 
           <br> “;cout&lt;&lt;endl; 
          </div> 
          <div>
            for(int i=0;i&lt;num;i++){ 
          </div> 
          <div>
            ans=max(ans,2*min(b1[i],c1[i])); 
          </div> 
          <div>
            } 
          </div> 
          <div>
            ans–; 
          </div> 
          <div>
            cout&lt;&lt;ans&lt;&lt;endl; 
          </div> 
          <div>
            } 
          </div> 
          <div>
            return 0; 
          </div> 
          <div>
            } 
          </div> 
         </div> 
         <div></div> 
        </div>
       </div>
       <!-- .entry-content --> 
       <!-- .entry-meta --> 
      </article>
      <!-- #post-151 --> 
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <!-- #secondary .widget-area --> 
   </div>
   <!-- #main --> 
   <!-- #colophon --> 
  </div>
  <!-- #page -->   
  <!-- JiaThis Button BEGIN -->  
  <!-- JiaThis Button END -->   
 </body>
</html>